import '../index-9d8fa28c.js';
import { e as he, Q as Qn } from '../json-rpc-bbea77b7.js';
import '../logging-23079156.js';
import './destroy.js';
import { J as Jo, g as ni } from '../tracking-ba0776b8.js';

const i=new he("onboarding"),a=new he("onboarding"),s=new he("onboarding"),r=new he("tracking");window.addEventListener("openPanel",(e=>{if(!(e instanceof CustomEvent))return;const{detail:t}=e,o={};t.activeView&&(o.activeView=t.activeView),t.isOpen&&(o.isOpen=t.isOpen,o.hasOpenedViaBrowserAction=!0),Jo({panel:o}),e.preventDefault();})),window.addEventListener("track",(e=>{if(!(e instanceof CustomEvent))return;const{detail:t}=e;ni(t),e.preventDefault();})),window.addEventListener("updateUserProperties",(e=>{if(!(e instanceof CustomEvent))return;const{detail:t}=e;r.notification("setUserProperties",t),e.preventDefault();})),window.addEventListener("openTab",(e=>{if(!(e instanceof CustomEvent))return;const{detail:t}=e;i.notification("openTab",t),e.preventDefault();})),window.addEventListener("closeTab",(e=>{e instanceof CustomEvent&&i.notification("closeTab");})),window.addEventListener("redirectTabToOptionsPage",(e=>{e instanceof CustomEvent&&a.notification("redirectOrFocusTabToOptionsPage");})),window.addEventListener("updateUserData",(e=>{e instanceof CustomEvent&&(e.preventDefault(),s.notification("fetchUserAndDataFromServer"));})),window.addEventListener("setReshareCollection",(async e=>{if(!(e instanceof CustomEvent))return;const{collectionId:t}=e.detail;await a.request("redirectOptionsAndSetReshareCollection",t),e.preventDefault();})),window.addEventListener("focusToWorkspaceWithNewShortcut",(async e=>{if(!(e instanceof CustomEvent))return;const{source:n}=e.detail;ni({type:"options.deeplink.new-shortcut",source:n}),await Qn("prefillNewShortcut",{}),a.notification("redirectOrFocusTabToOptionsPage"),e.preventDefault();})),window.addEventListener("openShareAppDialog",(async e=>{if(!(e instanceof CustomEvent))return;const{source:t}=e.detail;await a.request("openOptionsAndOpenDialog",{source:t,params:{dialog:"shareApp"},redirect:!0}),e.preventDefault();})),window.addEventListener("focusToWorkspaceWithSettingsDialog",(async e=>{if(!(e instanceof CustomEvent))return;const{source:t}=e.detail;await a.request("openOptionsAndOpenDialog",{source:t,params:{dialog:"settings"},redirect:!0}),e.preventDefault();})),window.addEventListener("focusToWorkspaceWithTopShortcutDialog",(async e=>{if(!(e instanceof CustomEvent))return;const{source:t,shortcutId:n}=e.detail;await a.request("openOptionsAndOpenDialog",{source:t,params:{dialog:"topShortcut",shortcutId:n},redirect:!0}),e.preventDefault();}));

import { s, a } from './index-9d8fa28c.js';
import { m as Nn$1, o, z as Qt$1, e as he$1, p as pe$1, r, W as Nt$1 } from './json-rpc-bbea77b7.js';
import { z as zn$1, B as Bn$1, U as Un$1, D as Dr$1, a as R$1, W as Wn$1, H as Hn$1, j as jr$1 } from './logging-23079156.js';
import { addToDeconstructorListener as t } from './content-scripts/destroy.js';

function g(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return "'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function m(e){return !!e&&!!e[ie]}function b(e){return !!e&&(function(e){if(!e||"object"!=typeof e)return !1;var t=Object.getPrototypeOf(e);if(null===t)return !0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ae}(e)||Array.isArray(e)||!!e[oe]||!!e.constructor[oe]||k(e)||E(e))}function S(e,t,n){void 0===n&&(n=!1),0===w(e)?(n?Object.keys:ue)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e);})):e.forEach((function(n,r){return t(r,n,e)}));}function w(e){var t=e[ie];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:k(e)?2:E(e)?3:0}function O(e,t){return 2===w(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t,n){var r=w(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n;}function C(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function k(e){return ee&&e instanceof Map}function E(e){return te&&e instanceof Set}function I(e){return e.o||e.t}function D(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ce(e);delete t[ie];for(var n=ue(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]});}return Object.create(Object.getPrototypeOf(e),t)}function T(e,t){return void 0===t&&(t=!1),A(e)||m(e)||!b(e)||(w(e)>1&&(e.set=e.add=e.clear=e.delete=x),Object.freeze(e),t&&S(e,(function(e,t){return T(t,!0)}),!0)),e}function x(){g(2);}function A(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function j(e){var t=le[e];return t||g(18,e),t}function F(){return J}function M(e,t){t&&(j("Patches"),e.u=[],e.s=[],e.v=t);}function N(e){$(e),e.p.forEach(R),e.p=null;}function $(e){e===J&&(J=e.l);}function U(e){return J={p:[],l:J,h:e,m:!0,_:0}}function R(e){var t=e[ie];0===t.i||1===t.i?t.j():t.O=!0;}function W(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||j("ES5").S(t,e,r),r?(n[ie].P&&(N(t),g(4)),b(e)&&(e=L(t,e),t.l||B(t,e)),t.u&&j("Patches").M(n[ie].t,e,t.u,t.s)):e=L(t,n,[]),N(t),t.u&&t.v(t.u,t.s),e!==re?e:void 0}function L(e,t,n){if(A(t))return t;var r=t[ie];if(!r)return S(t,(function(o,i){return H(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return B(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=D(r.k):r.o;S(3===r.i?new Set(o):o,(function(t,i){return H(e,r,o,t,i,n)})),B(e,o,!1),n&&e.u&&j("Patches").R(r,n,e.u,e.s);}return r.o}function H(e,t,n,r,o,i){if(m(o)){var a=L(e,o,i&&t&&3!==t.i&&!O(t.D,r)?i.concat(r):void 0);if(P(n,r,a),!m(a))return;e.m=!1;}if(b(o)&&!A(o)){if(!e.h.F&&e._<1)return;L(e,o),t&&t.A.l||B(e,o);}}function B(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&T(t,n);}function z(e,t){var n=e[ie];return (n?I(n):e)[t]}function G(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n);}}function V(e){e.P||(e.P=!0,e.l&&V(e.l));}function K(e){e.o||(e.o=D(e.t));}function q(e,t,n){var r=k(t)?j("MapSet").N(t,n):E(t)?j("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:F(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=se;n&&(o=[r],i=fe);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(t,n):j("ES5").J(t,n);return (n?n.A:F()).p.push(r),r}function X(e){return m(e)||g(22,e),function e(t){if(!b(t))return t;var n,r=t[ie],o=w(t);if(r){if(!r.P&&(r.i<4||!j("ES5").K(r)))return r.t;r.I=!0,n=Q(t,o),r.I=!1;}else n=Q(t,o);return S(n,(function(t,o){r&&function(e,t){return 2===w(e)?e.get(t):e[t]}(r.t,t)===o||P(n,t,e(o));})),3===o?new Set(n):n}(e)}function Q(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return D(e)}var Z,J,Y="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ee="undefined"!=typeof Map,te="undefined"!=typeof Set,ne="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,re=Y?Symbol.for("immer-nothing"):((Z={})["immer-nothing"]=!0,Z),oe=Y?Symbol.for("immer-draftable"):"__$immer_draftable",ie=Y?Symbol.for("immer-state"):"__$immer_state",ae=""+Object.prototype.constructor,ue="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ce=Object.getOwnPropertyDescriptors||function(e){var t={};return ue(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n);})),t},le={},se={get:function(e,t){if(t===ie)return e;var n=I(e);if(!O(n,t))return function(e,t,n){var r,o=G(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!b(r)?r:r===z(e.t,t)?(K(e),e.o[t]=q(e.A.h,r,e)):r},has:function(e,t){return t in I(e)},ownKeys:function(e){return Reflect.ownKeys(I(e))},set:function(e,t,n){var r=G(I(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=z(I(e),t),i=null==o?void 0:o[ie];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(C(n,o)&&(void 0!==n||O(e.t,t)))return !0;K(e),V(e);}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==z(e.t,t)||t in e.t?(e.D[t]=!1,K(e),V(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=I(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){g(11);},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){g(12);}},fe={};S(se,(function(e,t){fe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)};})),fe.deleteProperty=function(e,t){return fe.set.call(this,e,t,void 0)},fe.set=function(e,t,n){return se.set.call(this,e[0],t,n,e[0])};var pe=new(function(){function e(e){var t=this;this.g=ne,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return i.produce(e,(function(e){var r;return (r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&g(6),void 0!==r&&"function"!=typeof r&&g(7),b(e)){var u=U(t),c=q(t,e,void 0),l=!0;try{a=n(c),l=!1;}finally{l?N(u):$(u);}return "undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return M(u,r),W(e,u)}),(function(e){throw N(u),e})):(M(u,r),W(a,u))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===re&&(a=void 0),t.F&&T(a,!0),r){var s=[],f=[];j("Patches").M(e,a,s,f),r(s,f);}return a}g(21,e);},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t;}));return "undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return [e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze);}var t=e.prototype;return t.createDraft=function(e){b(e)||g(8),m(e)&&(e=X(e));var t=U(this),n=q(this,e,void 0);return n[ie].C=!0,$(t),n},t.finishDraft=function(e,t){var n=(e&&e[ie]).A;return M(n,t),W(void 0,n)},t.setAutoFreeze=function(e){this.F=e;},t.setUseProxies=function(e){e&&!ne&&g(20),this.g=e;},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=j("Patches").$;return m(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}()),de=pe.produce;pe.produceWithPatches.bind(pe),pe.setAutoFreeze.bind(pe),pe.setUseProxies.bind(pe),pe.applyPatches.bind(pe),pe.createDraft.bind(pe),pe.finishDraft.bind(pe);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r);}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){_e(e,t,n[t]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t));}));}return e}function ye(e){return "Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ge="function"==typeof Symbol&&Symbol.observable||"@@observable",me=function(){return Math.random().toString(36).substring(7).split("").join(".")},be={INIT:"@@redux/INIT"+me(),REPLACE:"@@redux/REPLACE"+me(),PROBE_UNKNOWN_ACTION:function(){return "@@redux/PROBE_UNKNOWN_ACTION"+me()}};function Se(e){if("object"!=typeof e||null===e)return !1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function we(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(ye(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(ye(1));return n(we)(e,t)}if("function"!=typeof e)throw new Error(ye(2));var o=e,i=t,a=[],u=a,c=!1;function l(){u===a&&(u=a.slice());}function s(){if(c)throw new Error(ye(3));return i}function f(e){if("function"!=typeof e)throw new Error(ye(4));if(c)throw new Error(ye(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error(ye(6));t=!1,l();var n=u.indexOf(e);u.splice(n,1),a=null;}}}function p(e){if(!Se(e))throw new Error(ye(7));if(void 0===e.type)throw new Error(ye(8));if(c)throw new Error(ye(9));try{c=!0,i=o(i,e);}finally{c=!1;}for(var t=a=u,n=0;n<t.length;n++){(0, t[n])();}return e}function d(e){if("function"!=typeof e)throw new Error(ye(10));o=e,p({type:be.REPLACE});}function _(){var e,t=f;return (e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(ye(11));function n(){e.next&&e.next(s());}return n(),{unsubscribe:t(n)}}})[ge]=function(){return this},e}return p({type:be.INIT}),(r={dispatch:p,subscribe:f,getState:s,replaceReducer:d})[ge]=_,r}function Oe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o]);}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:be.INIT}))throw new Error(ye(12));if(void 0===n(void 0,{type:be.PROBE_UNKNOWN_ACTION()}))throw new Error(ye(13))}));}(n);}catch(e){i=e;}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},u=0;u<a.length;u++){var c=a[u],l=n[c],s=e[c],f=l(s,t);if(void 0===f){t&&t.type;throw new Error(ye(14))}o[c]=f,r=r||f!==s;}return (r=r||a.length!==Object.keys(e).length)?o:e}}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ye(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=Pe.apply(void 0,i)(n.dispatch),ve(ve({},n),{},{dispatch:r})}}}function ke(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return "function"==typeof o?o(n,r,e):t(o)}}}}var Ee=ke();Ee.withExtraArgument=ke;var Ie,De=(Ie=function(e,t){return (Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e;}Ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n);}),Te=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},xe=Object.defineProperty,Ae=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,Me=function(e,t,n){return t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ne=function(e,t){for(var n in t||(t={}))je.call(t,n)&&Me(e,n,t[n]);if(Ae)for(var r=0,o=Ae(t);r<o.length;r++){n=o[r];Fe.call(t,n)&&Me(e,n,t[n]);}return e},$e="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return "object"==typeof arguments[0]?Pe:Pe.apply(null,arguments)};var Ue=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return De(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Te([void 0],e[0].concat(this)))):new(t.bind.apply(t,Te([void 0],e.concat(this))))},t}(Array);function Re(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ue);n&&(!function(e){return "boolean"==typeof e}(n)?r.push(Ee.withExtraArgument(n.extraArgument)):r.push(Ee));return r}(e)}}function We(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Ne(Ne({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return {type:e,payload:n[0]}}return n.toString=function(){return ""+e},n.type=e,n.match=function(t){return t.type===e},n}function Le(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}function He(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:de(e.initialState,(function(){})),o=e.reducers||{},i=Object.keys(o),a={},u={},c={};function l(){var t="function"==typeof e.extraReducers?Le(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,i=t[1],a=void 0===i?[]:i,c=t[2],l=void 0===c?void 0:c,s=Ne(Ne({},o),u);return function(e,t,n,r){void 0===n&&(n=[]);var o,i="function"==typeof t?Le(t):[t,n,r],a=i[0],u=i[1],c=i[2];if(function(e){return "function"==typeof e}(e))o=function(){return de(e(),(function(){}))};else {var l=de(e,(function(){}));o=function(){return l};}function s(e,t){void 0===e&&(e=o());var n=Te([a[t.type]],u.filter((function(e){return (0, e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return !!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(m(e))return void 0===(r=n(e,t))?e:r;if(b(e))return de(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return s.getInitialState=o,s}(r,s,a,l)}return i.forEach((function(e){var n,r,i=o[e],l=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,a[e]=n,u[l]=n,c[e]=r?We(l,r):We(l);})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:c,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}!function(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ie];return se.get(t,e)},set:function(t){var n=this[ie];se.set(n,e,t);}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][ie];if(!o.P)switch(o.i){case 5:r(o)&&V(o);break;case 4:n(o)&&V(o);}}}function n(e){for(var t=e.t,n=e.k,r=ue(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==ie){var a=t[i];if(void 0===a&&!O(t,i))return !0;var u=n[i],c=u&&u[ie];if(c?c.t!==a:!C(u,a))return !0}}var l=!!t[ie];return r.length!==ue(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return !0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return !0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return !0;return !1}var o={};!function(e,t){le[e]||(le[e]=t);}("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=ce(n);delete i[ie];for(var a=ue(i),u=0;u<a.length;u++){var c=a[u];i[c]=e(c,t||!!i[c].enumerable);}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:F(),P:!1,I:!1,D:{},l:n,t:t,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,ie,{value:i,writable:!0}),o},S:function(e,n,o){o?m(n)&&n[ie].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ie];if(n){var o=n.t,i=n.k,a=n.D,u=n.i;if(4===u)S(i,(function(t){t!==ie&&(void 0!==o[t]||O(o,t)?a[t]||e(i[t]):(a[t]=!0,V(n)));})),S(o,(function(e){void 0!==i[e]||O(i,e)||(a[e]=!1,V(n));}));else if(5===u){if(r(n)&&(V(n),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var l=o.length;l<i.length;l++)a[l]=!0;for(var s=Math.min(i.length,o.length),f=0;f<s;f++)i.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(i[f]);}}}}(e.p[0]),t(e.p));},K:function(e){return 4===e.i?n(e):r(e)}});}();const Be=He({name:"global",initialState:{config:Nn$1(),labels:{},notifications:{},placeholderSrcMatches:[],recoveryState:void 0,referrals:[],sharedCollectionId:"",showVariableHelp:!1,snippetCollections:[],snippets:[],srcPagesForClosedTabs:[],srcPagesForOpenTabs:[],teamSnippets:{},totalTimeSaved:{emoji:"",message:"",timeSaved:0,unit:"sec"},userInfo:zn$1()},reducers:{updatePartialFromBackground:(e,t)=>{o.mergeWith(e,t.payload,Qt$1);}}}),{updatePartialFromBackground:ze}=Be.actions;function Ge(e){return e.global.userInfo.settings}var Ve=Be.reducer;const Ke=He({name:"dialogs",initialState:{featureGateDialogOpen:!1,featureGateCreateDialogOpen:!1,shareShortcutsDialog:{showModal:!1,shortcutIds:[],reshareCollectionId:""},deleteShortcutsDialog:{showModal:!1,shortcutIds:[]},settingsDialogOpen:!1,shareAppDialogOpen:!1,topShortcutDialog:{showModal:!1,shortcutId:""}},reducers:{closeDeleteShortcutsDialog:e=>{e.deleteShortcutsDialog.showModal=!1;},closeFeatureGateCreateDialog:e=>{e.featureGateCreateDialogOpen=!1;},closeFeatureGateDialog:e=>{e.featureGateDialogOpen=!1;},closeSettingsDialog:e=>{e.settingsDialogOpen=!1;},closeShareAppDialog:e=>{e.shareAppDialogOpen=!1;},closeShareShortcutsDialog:e=>{e.shareShortcutsDialog.showModal=!1;},closeTopShortcutDialog:e=>{e.topShortcutDialog.showModal=!1;},openDeleteShortcutsDialog:(e,t)=>{e.deleteShortcutsDialog.showModal=!0,e.deleteShortcutsDialog.shortcutIds=t.payload.shortcutIds;},openFeatureGateCreateDialog:e=>{e.featureGateCreateDialogOpen=!0;},openFeatureGateDialog:e=>{e.featureGateDialogOpen=!0;},openSettingsDialog:e=>{e.settingsDialogOpen=!0;},openShareAppDialog:e=>{e.shareAppDialogOpen=!0;},openShareShortcutsDialog:(e,t)=>{e.shareShortcutsDialog.showModal=!0,t.payload.shortcutIds&&(e.shareShortcutsDialog.shortcutIds=t.payload.shortcutIds),t.payload.reshareCollectionId&&(e.shareShortcutsDialog.reshareCollectionId=t.payload.reshareCollectionId);},openTopShortcutDialog:(e,t)=>{e.topShortcutDialog.showModal=!0,e.topShortcutDialog.shortcutId=t.payload.shortcutId;}}}),{openFeatureGateDialog:qe,closeFeatureGateDialog:Xe,openFeatureGateCreateDialog:Qe,closeFeatureGateCreateDialog:Ze,openSettingsDialog:Je,closeSettingsDialog:Ye,openShareAppDialog:et,openTopShortcutDialog:tt,closeTopShortcutDialog:nt,closeShareAppDialog:rt,openShareShortcutsDialog:ot,closeShareShortcutsDialog:it,openDeleteShortcutsDialog:at,closeDeleteShortcutsDialog:ut}=Ke.actions;var ct,lt,st,ft,pt,dt=Ke.reducer,_t={},ht=[],vt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function yt(e,t){for(var n in t)e[n]=t[n];return e}function gt(e){var t=e.parentNode;t&&t.removeChild(e);}function mt(e,t,n){var r,o,i,a=arguments,u={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:u[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);if(null!=n&&(u.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===u[i]&&(u[i]=e.defaultProps[i]);return bt(e,u,r,o,null)}function bt(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++ct.__v:o};return null!=ct.vnode&&ct.vnode(i),i}function St(){return {current:null}}function wt(e){return e.children}function Ot(e,t){this.props=e,this.context=t;}function Pt(e,t){if(null==t)return e.__?Pt(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return "function"==typeof e.type?Pt(e):null}function Ct(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Ct(e)}}function kt(e){(!e.__d&&(e.__d=!0)&&lt.push(e)&&!Et.__r++||ft!==ct.debounceRendering)&&((ft=ct.debounceRendering)||st)(Et);}function Et(){for(var e;Et.__r=lt.length;)e=lt.sort((function(e,t){return e.__v.__b-t.__v.__b})),lt=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=yt({},o)).__v=o.__v+1,Nt(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?Pt(o):i,o.__h),$t(n,o),o.__e!=i&&Ct(o)));}));}function It(e,t,n,r,o,i,a,u,c,l){var s,f,p,d,_,h,v,y=r&&r.__k||ht,g=y.length;for(n.__k=[],s=0;s<t.length;s++)if(null!=(d=n.__k[s]=null==(d=t[s])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d?bt(null,d,null,null,d):Array.isArray(d)?bt(wt,{children:d},null,null,null):d.__b>0?bt(d.type,d.props,d.key,null,d.__v):d)){if(d.__=n,d.__b=n.__b+1,null===(p=y[s])||p&&d.key==p.key&&d.type===p.type)y[s]=void 0;else for(f=0;f<g;f++){if((p=y[f])&&d.key==p.key&&d.type===p.type){y[f]=void 0;break}p=null;}Nt(e,d,p=p||_t,o,i,a,u,c,l),_=d.__e,(f=d.ref)&&p.ref!=f&&(v||(v=[]),p.ref&&v.push(p.ref,null,d),v.push(f,d.__c||_,d)),null!=_?(null==h&&(h=_),"function"==typeof d.type&&null!=d.__k&&d.__k===p.__k?d.__d=c=Dt(d,c,e):c=xt(e,d,p,y,_,c),l||"option"!==n.type?"function"==typeof n.type&&(n.__d=c):e.value=""):c&&p.__e==c&&c.parentNode!=e&&(c=Pt(p));}for(n.__e=h,s=g;s--;)null!=y[s]&&("function"==typeof n.type&&null!=y[s].__e&&y[s].__e==n.__d&&(n.__d=Pt(r,s+1)),Rt(y[s],y[s]));if(v)for(s=0;s<v.length;s++)Ut(v[s],v[++s],v[++s]);}function Dt(e,t,n){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,t="function"==typeof o.type?Dt(o,t,n):xt(n,o,o,e.__k,o.__e,t));return t}function Tt(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){Tt(e,t);})):t.push(e)),t}function xt(e,t,n,r,o,i){var a,u,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else {for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break e;e.insertBefore(o,i),a=i;}return void 0!==a?a:o.nextSibling}function At(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||vt.test(t)?n:n+"px";}function jt(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else {if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||At(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||At(e.style,t,n[t]);}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?Mt:Ft,i):e.removeEventListener(t,i?Mt:Ft,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t));}}function Ft(e){this.l[e.type+!1](ct.event?ct.event(e):e);}function Mt(e){this.l[e.type+!0](ct.event?ct.event(e):e);}function Nt(e,t,n,r,o,i,a,u,c){var l,s,f,p,d,_,h,v,y,g,m,b=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,u=t.__e=n.__e,t.__h=null,i=[u]),(l=ct.__b)&&l(t);try{e:if("function"==typeof b){if(v=t.props,y=(l=b.contextType)&&r[l.__c],g=l?y?y.props.value:l.__:r,n.__c?h=(s=t.__c=n.__c).__=s.__E:("prototype"in b&&b.prototype.render?t.__c=s=new b(v,g):(t.__c=s=new Ot(v,g),s.constructor=b,s.render=Wt),y&&y.sub(s),s.props=v,s.state||(s.state={}),s.context=g,s.__n=r,f=s.__d=!0,s.__h=[]),null==s.__s&&(s.__s=s.state),null!=b.getDerivedStateFromProps&&(s.__s==s.state&&(s.__s=yt({},s.__s)),yt(s.__s,b.getDerivedStateFromProps(v,s.__s))),p=s.props,d=s.state,f)null==b.getDerivedStateFromProps&&null!=s.componentWillMount&&s.componentWillMount(),null!=s.componentDidMount&&s.__h.push(s.componentDidMount);else {if(null==b.getDerivedStateFromProps&&v!==p&&null!=s.componentWillReceiveProps&&s.componentWillReceiveProps(v,g),!s.__e&&null!=s.shouldComponentUpdate&&!1===s.shouldComponentUpdate(v,s.__s,g)||t.__v===n.__v){s.props=v,s.state=s.__s,t.__v!==n.__v&&(s.__d=!1),s.__v=t,t.__e=n.__e,t.__k=n.__k,s.__h.length&&a.push(s);break e}null!=s.componentWillUpdate&&s.componentWillUpdate(v,s.__s,g),null!=s.componentDidUpdate&&s.__h.push((function(){s.componentDidUpdate(p,d,_);}));}s.context=g,s.props=v,s.state=s.__s,(l=ct.__r)&&l(t),s.__d=!1,s.__v=t,s.__P=e,l=s.render(s.props,s.state,s.context),s.state=s.__s,null!=s.getChildContext&&(r=yt(yt({},r),s.getChildContext())),f||null==s.getSnapshotBeforeUpdate||(_=s.getSnapshotBeforeUpdate(p,d)),m=null!=l&&l.type===wt&&null==l.key?l.props.children:l,It(e,Array.isArray(m)?m:[m],t,n,r,o,i,a,u,c),s.base=t.__e,t.__h=null,s.__h.length&&a.push(s),h&&(s.__E=s.__=null),s.__e=!1;}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,o,i,a,u){var c,l,s,f,p=n.props,d=t.props,_=t.type,h=0;if("svg"===_&&(o=!0),null!=i)for(;h<i.length;h++)if((c=i[h])&&(c===e||(_?c.localName==_:3==c.nodeType))){e=c,i[h]=null;break}if(null==e){if(null===_)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,d.is&&d),i=null,u=!1;}if(null===_)p===d||u&&e.data===d||(e.data=d);else {if(i=i&&ht.slice.call(e.childNodes),l=(p=n.props||_t).dangerouslySetInnerHTML,s=d.dangerouslySetInnerHTML,!u){if(null!=i)for(p={},f=0;f<e.attributes.length;f++)p[e.attributes[f].name]=e.attributes[f].value;(s||l)&&(s&&(l&&s.__html==l.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""));}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||jt(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||jt(e,i,t[i],n[i],r);}(e,d,p,o,u),s)t.__k=[];else if(h=t.props.children,It(e,Array.isArray(h)?h:[h],t,n,r,o&&"foreignObject"!==_,i,a,e.firstChild,u),null!=i)for(h=i.length;h--;)null!=i[h]&&gt(i[h]);u||("value"in d&&void 0!==(h=d.value)&&(h!==e.value||"progress"===_&&!h)&&jt(e,"value",h,p.value,!1),"checked"in d&&void 0!==(h=d.checked)&&h!==e.checked&&jt(e,"checked",h,p.checked,!1));}return e}(n.__e,t,n,r,o,i,a,c);(l=ct.diffed)&&l(t);}catch(e){t.__v=null,(c||null!=i)&&(t.__e=u,t.__h=!!c,i[i.indexOf(u)]=null),ct.__e(e,t,n);}}function $t(e,t){ct.__c&&ct.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t);}));}catch(e){ct.__e(e,t.__v);}}));}function Ut(e,t,n){try{"function"==typeof e?e(t):e.current=t;}catch(e){ct.__e(e,n);}}function Rt(e,t,n){var r,o,i;if(ct.unmount&&ct.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ut(r,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount();}catch(e){ct.__e(e,t);}r.base=r.__P=null;}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Rt(r[i],t,n);null!=o&&gt(o);}function Wt(e,t,n){return this.constructor(e,n)}function Lt(e,t,n){var r,o,i;ct.__&&ct.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],Nt(t,e=(!r&&n||t).__k=mt(wt,null,[e]),o||_t,_t,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?ht.slice.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r),$t(i,e);}function Ht(e,t){Lt(e,t,Ht);}function Bt(e,t,n){var r,o,i,a=arguments,u=yt({},e.props);for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:u[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);return null!=n&&(u.children=n),bt(e.type,u,r||e.key,o||e.ref,null)}function zt(e,t){var n={__c:t="__cC"+pt++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(kt);},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e);};}),e.children}};return n.Provider.__=n.Consumer.contextType=n}ct={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t;}throw e},__v:0},Ot.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=yt({},this.state),"function"==typeof e&&(e=e(yt({},n),this.props)),e&&yt(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),kt(this));},Ot.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),kt(this));},Ot.prototype.render=wt,lt=[],st="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Et.__r=0,pt=0;var Gt,Vt,Kt,qt=0,Xt=[],Qt=ct.__b,Zt=ct.__r,Jt=ct.diffed,Yt=ct.__c,en=ct.unmount;function tn(e,t){ct.__h&&ct.__h(Vt,e,qt||t),qt=0;var n=Vt.__H||(Vt.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function nn(e){return qt=1,rn(yn,e)}function rn(e,t,n){var r=tn(Gt++,2);return r.t=e,r.__c||(r.__=[n?n(t):yn(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}));}],r.__c=Vt),r.__}function on(e,t){var n=tn(Gt++,3);!ct.__s&&vn(n.__H,t)&&(n.__=e,n.__H=t,Vt.__H.__h.push(n));}function an(e,t){var n=tn(Gt++,4);!ct.__s&&vn(n.__H,t)&&(n.__=e,n.__H=t,Vt.__h.push(n));}function un(e){return qt=5,cn((function(){return {current:e}}),[])}function cn(e,t){var n=tn(Gt++,7);return vn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ln(e,t){return qt=8,cn((function(){return e}),t)}function sn(e){var t=Vt.context[e.__c],n=tn(Gt++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(Vt)),t.props.value):e.__}function fn(e,t){ct.useDebugValue&&ct.useDebugValue(t?t(e):e);}function pn(){Xt.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(_n),e.__H.__h.forEach(hn),e.__H.__h=[];}catch(t){e.__H.__h=[],ct.__e(t,e.__v);}})),Xt=[];}ct.__b=function(e){Vt=null,Qt&&Qt(e);},ct.__r=function(e){Zt&&Zt(e),Gt=0;var t=(Vt=e.__c).__H;t&&(t.__h.forEach(_n),t.__h.forEach(hn),t.__h=[]);},ct.diffed=function(e){Jt&&Jt(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Xt.push(t)&&Kt===ct.requestAnimationFrame||((Kt=ct.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),dn&&cancelAnimationFrame(t),setTimeout(e);},r=setTimeout(n,100);dn&&(t=requestAnimationFrame(n));})(pn)),Vt=void 0;},ct.__c=function(e,t){t.some((function(e){try{e.__h.forEach(_n),e.__h=e.__h.filter((function(e){return !e.__||hn(e)}));}catch(n){t.some((function(e){e.__h&&(e.__h=[]);})),t=[],ct.__e(n,e.__v);}})),Yt&&Yt(e,t);},ct.unmount=function(e){en&&en(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(_n);}catch(e){ct.__e(e,t.__v);}};var dn="function"==typeof requestAnimationFrame;function _n(e){var t=Vt;"function"==typeof e.__c&&e.__c(),Vt=t;}function hn(e){var t=Vt;e.__c=e.__(),Vt=t;}function vn(e,t){return !e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function yn(e,t){return "function"==typeof t?t(e):t}function gn(e,t){for(var n in t)e[n]=t[n];return e}function mn(e,t){for(var n in e)if("__source"!==n&&!(n in t))return !0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return !0;return !1}function bn(e){this.props=e;}(bn.prototype=new Ot).isPureReactComponent=!0,bn.prototype.shouldComponentUpdate=function(e,t){return mn(this.props,e)||mn(this.state,t)};var Sn=ct.__b;ct.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Sn&&Sn(e);};var wn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function On(e){function t(t,n){var r=gn({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=wn,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Pn=function(e,t){return null==e?null:Tt(Tt(e).map(t))},Cn={map:Pn,forEach:Pn,count:function(e){return e?Tt(e).length:0},only:function(e){var t=Tt(e);if(1!==t.length)throw "Children.only";return t[0]},toArray:Tt},kn=ct.__e;function En(){this.__u=0,this.t=null,this.__b=null;}function In(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function Dn(){this.u=null,this.o=null;}ct.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);kn(e,t,n);},(En.prototype=new Ot).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=In(r.__v),i=!1,a=function(){i||(i=!0,n.componentWillUnmount=n.__c,o?o(u):u());};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){a(),n.__c&&n.__c();};var u=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O);}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate();}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a);},En.prototype.componentWillUnmount=function(){this.t=[];},En.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c();})),t.__c.__H=null),null!=(t=gn({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P);}this.__b=null;}var o=t.__e&&mt(wt,null,e.fallback);return o&&(o.__h=null),[mt(wt,null,t.__e?null:e.children),o]};var Tn=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2];}};function xn(e){return this.getChildContext=function(){return e.context},e.children}function An(e){var t=this,n=e.i;t.componentWillUnmount=function(){Lt(null,t.l),t.l=null,t.i=null;},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e);},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e);},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e);}}),Lt(mt(xn,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount();}function jn(e,t){return mt(An,{__v:e,i:t})}(Dn.prototype=new Ot).__e=function(e){var t=this,n=In(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Tn(t,e,r)):o();};n?n(i):i();}},Dn.prototype.render=function(e){this.u=null,this.o=new Map;var t=Tt(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},Dn.prototype.componentDidUpdate=Dn.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Tn(e,n,t);}));};var Fn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Mn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nn=function(e){return ("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};Ot.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(Ot.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t});}});}));var $n=ct.event;function Un(){}function Rn(){return this.cancelBubble}function Wn(){return this.defaultPrevented}ct.event=function(e){return $n&&(e=$n(e)),e.persist=Un,e.isPropagationStopped=Rn,e.isDefaultPrevented=Wn,e.nativeEvent=e};var Ln,Hn={configurable:!0,get:function(){return this.class}},Bn=ct.vnode;ct.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){for(var o in r={},n){var i=n[o];"value"===o&&"defaultValue"in n&&null==i||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!Nn(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():Mn.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i);}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Tt(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value);}))),"select"==t&&null!=r.defaultValue&&(r.value=Tt(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value;}))),e.props=r;}t&&n.class!=n.className&&(Hn.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Hn)),e.$$typeof=Fn,Bn&&Bn(e);};var zn=ct.__r;ct.__r=function(e){zn&&zn(e),Ln=e.__c;};var Gn={ReactCurrentDispatcher:{current:{readContext:function(e){return Ln.__n[e.__c].props.value}}}};"object"==typeof performance&&"function"==typeof performance.now&&performance.now.bind(performance);function Vn(e){return !!e&&e.$$typeof===Fn}function Kn(e){return Vn(e)?Bt.apply(null,arguments):e}function qn(e){return !!e.__k&&(Lt(null,e),!0)}var Xn=function(e,t){return e(t)},Qn={useState:nn,useReducer:rn,useEffect:on,useLayoutEffect:an,useRef:un,useImperativeHandle:function(e,t,n){qt=6,an((function(){"function"==typeof e?e(t()):e&&(e.current=t());}),null==n?n:n.concat(e));},useMemo:cn,useCallback:ln,useContext:sn,useDebugValue:fn,version:"16.8.0",Children:Cn,render:function(e,t,n){return null==t.__k&&(t.textContent=""),Lt(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return Ht(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:qn,createPortal:jn,createElement:mt,createContext:zt,createFactory:function(e){return mt.bind(null,e)},cloneElement:Kn,createRef:St,Fragment:wt,isValidElement:Vn,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:Ot,PureComponent:bn,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return !r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:mn(this.props,e)}function r(t){return this.shouldComponentUpdate=n,mt(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:On,unstable_batchedUpdates:Xn,StrictMode:wt,Suspense:En,SuspenseList:Dn,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e;}),(function(e){r=e;})),r)throw r;if(!n)throw t;return mt(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Gn};function Zn(){}function Jn(){}Jn.resetWarningCache=Zn;var Yn=s((function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Jn,resetWarningCache:Zn};return n.PropTypes=n,n}();})),er=Qn.createContext(null);var tr=function(e){e();},nr=function(){return tr};var rr={notify:function(){},get:function(){return []}};function or(e,t){var n,r=rr;function o(){a.onStateChange&&a.onStateChange();}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=nr(),t=null,n=null;return {clear:function(){t=null,n=null;},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next;}));},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next);}}}}());}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify();},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=rr);},getListeners:function(){return r}};return a}var ir="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?an:on,ar="function"==typeof Symbol&&Symbol.for,ur=ar?Symbol.for("react.element"):60103,cr=ar?Symbol.for("react.portal"):60106,lr=ar?Symbol.for("react.fragment"):60107,sr=ar?Symbol.for("react.strict_mode"):60108,fr=ar?Symbol.for("react.profiler"):60114,pr=ar?Symbol.for("react.provider"):60109,dr=ar?Symbol.for("react.context"):60110,_r=ar?Symbol.for("react.async_mode"):60111,hr=ar?Symbol.for("react.concurrent_mode"):60111,vr=ar?Symbol.for("react.forward_ref"):60112,yr=ar?Symbol.for("react.suspense"):60113,gr=ar?Symbol.for("react.suspense_list"):60120,mr=ar?Symbol.for("react.memo"):60115,br=ar?Symbol.for("react.lazy"):60116,Sr=ar?Symbol.for("react.block"):60121,wr=ar?Symbol.for("react.fundamental"):60117,Or=ar?Symbol.for("react.responder"):60118,Pr=ar?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Cr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ur:switch(e=e.type){case _r:case hr:case lr:case fr:case sr:case yr:return e;default:switch(e=e&&e.$$typeof){case dr:case vr:case br:case mr:case pr:return e;default:return t}}case cr:return t}}}function kr(e){return Cr(e)===hr}var Er={AsyncMode:_r,ConcurrentMode:hr,ContextConsumer:dr,ContextProvider:pr,Element:ur,ForwardRef:vr,Fragment:lr,Lazy:br,Memo:mr,Portal:cr,Profiler:fr,StrictMode:sr,Suspense:yr,isAsyncMode:function(e){return kr(e)||Cr(e)===_r},isConcurrentMode:kr,isContextConsumer:function(e){return Cr(e)===dr},isContextProvider:function(e){return Cr(e)===pr},isElement:function(e){return "object"==typeof e&&null!==e&&e.$$typeof===ur},isForwardRef:function(e){return Cr(e)===vr},isFragment:function(e){return Cr(e)===lr},isLazy:function(e){return Cr(e)===br},isMemo:function(e){return Cr(e)===mr},isPortal:function(e){return Cr(e)===cr},isProfiler:function(e){return Cr(e)===fr},isStrictMode:function(e){return Cr(e)===sr},isSuspense:function(e){return Cr(e)===yr},isValidElementType:function(e){return "string"==typeof e||"function"==typeof e||e===lr||e===hr||e===fr||e===sr||e===yr||e===gr||"object"==typeof e&&null!==e&&(e.$$typeof===br||e.$$typeof===mr||e.$$typeof===pr||e.$$typeof===dr||e.$$typeof===vr||e.$$typeof===wr||e.$$typeof===Or||e.$$typeof===Pr||e.$$typeof===Sr)},typeOf:Cr},Ir=s((function(e){e.exports=Er;})),Dr={};Dr[Ir.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Dr[Ir.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Tr=60103,xr=60106,Ar=60107,jr=60108,Fr=60114,Mr=60109,Nr=60110,$r=60112,Ur=60113,Rr=60120,Wr=60115,Lr=60116,Hr=60121,Br=60122,zr=60117,Gr=60129,Vr=60131;if("function"==typeof Symbol&&Symbol.for){var Kr=Symbol.for;Tr=Kr("react.element"),xr=Kr("react.portal"),Ar=Kr("react.fragment"),jr=Kr("react.strict_mode"),Fr=Kr("react.profiler"),Mr=Kr("react.provider"),Nr=Kr("react.context"),$r=Kr("react.forward_ref"),Ur=Kr("react.suspense"),Rr=Kr("react.suspense_list"),Wr=Kr("react.memo"),Lr=Kr("react.lazy"),Hr=Kr("react.block"),Br=Kr("react.server.block"),zr=Kr("react.fundamental"),Gr=Kr("react.debug_trace_mode"),Vr=Kr("react.legacy_hidden");}function qr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Tr:switch(e=e.type){case Ar:case Fr:case jr:case Ur:case Rr:return e;default:switch(e=e&&e.$$typeof){case Nr:case $r:case Lr:case Wr:case Mr:return e;default:return t}}case xr:return t}}}var Xr={ContextConsumer:Nr,ContextProvider:Mr,Element:Tr,ForwardRef:$r,Fragment:Ar,Lazy:Lr,Memo:Wr,Portal:xr,Profiler:Fr,StrictMode:jr,Suspense:Ur,isAsyncMode:function(){return !1},isConcurrentMode:function(){return !1},isContextConsumer:function(e){return qr(e)===Nr},isContextProvider:function(e){return qr(e)===Mr},isElement:function(e){return "object"==typeof e&&null!==e&&e.$$typeof===Tr},isForwardRef:function(e){return qr(e)===$r},isFragment:function(e){return qr(e)===Ar},isLazy:function(e){return qr(e)===Lr},isMemo:function(e){return qr(e)===Wr},isPortal:function(e){return qr(e)===xr},isProfiler:function(e){return qr(e)===Fr},isStrictMode:function(e){return qr(e)===jr},isSuspense:function(e){return qr(e)===Ur},isValidElementType:function(e){return "string"==typeof e||"function"==typeof e||e===Ar||e===Fr||e===Gr||e===jr||e===Ur||e===Rr||e===Vr||"object"==typeof e&&null!==e&&(e.$$typeof===Lr||e.$$typeof===Wr||e.$$typeof===Mr||e.$$typeof===Nr||e.$$typeof===$r||e.$$typeof===zr||e.$$typeof===Hr||e[0]===Br)},typeOf:qr};s((function(e){e.exports=Xr;}));function Qr(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Zr(e,t){if(Qr(e,t))return !0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return !1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return !1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Qr(e[n[o]],t[n[o]]))return !1;return !0}function Jr(){return sn(er)}var Yr=function(e,t){return e===t};function eo(e){void 0===e&&(e=er);var t=e===er?Jr:function(){return sn(e)};return function(e,n){void 0===n&&(n=Yr);var r=t(),o=function(e,t,n,r){var o,i=rn((function(e){return e+1}),0)[1],a=cn((function(){return or(n,r)}),[n,r]),u=un(),c=un(),l=un(),s=un(),f=n.getState();try{if(e!==c.current||f!==l.current||u.current){var p=e(f);o=void 0!==s.current&&t(p,s.current)?s.current:p;}else o=s.current;}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return ir((function(){c.current=e,l.current=f,s.current=o,u.current=void 0;})),ir((function(){function e(){try{var e=n.getState();if(e===l.current)return;var r=c.current(e);if(t(r,s.current))return;s.current=r,l.current=e;}catch(e){u.current=e;}i();}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[n,a]),o}(e,n,r.store,r.subscription);return fn(o),o}}tr=Xn;const to=eo(),no=e=>to(e,Zr);function ro(e){const t=un();return on((()=>{t.current=e;})),t.current}const oo=String.raw;function io(e){const{css:t,onLoad:n}=e;if(chrome.extension.getBackgroundPage){return mt("style",{nonce:"073d942443fdb09efee5a73849dd0a852b89b3303873ccce155e8f748581809fe134a59c1826a603a63c1accd509bff2327c791922ff88bfdceb25b362c43b76"+chrome.extension.getBackgroundPage().MAGICAL_CSP_NONCE_SUFFIX,onLoad:n},t)}return mt("style",{onLoad:n},t)}var ao;!function(e){e[e.WORKSPACE=0]="WORKSPACE",e[e.TEAMS=1]="TEAMS";}(ao||(ao={}));const uo=oo`
  .options-tab-list {
    color: var(--magical-gray-70);
    display: inline-block;
    margin-inline-end: 24px;
    position: sticky;
    top: 0;
    vertical-align: top;
    width: 204px;
  }
  .options-tab-list ul {
    list-style: none;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    padding-inline-start: 0;
  }
  .options-tab-list li {
    border-radius: 0 24px 24px 0;
    cursor: pointer;
    height: 28px;
    margin-bottom: 12px;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
    font-weight: 700;
    font-size: 16px;
  }
  .options-tab-list li > svg {
    margin-right: 8px;
    margin-left: 8px;
    width: 20px;
  }
  .options-tab-list li:hover {
    background: var(--magical-secondary-00);
  }
  .options-tab-list li.selected {
    background: var(--magical-secondary-10);
  }
`;function co(e){const{tabs:t}=e,n=to((e=>e.optionsPage.activeTab));return mt(wt,null,mt(io,{css:uo}),mt("div",{class:"options-tab-list"},mt("ul",null,t.map((({label:e,icon:t,id:r})=>mt("li",{key:r,className:n===r?"selected":"",onClick:()=>Ro.dispatch(Do(r))},t,mt("span",null,e)))))))}const lo=new he$1("options-page"),so=e=>async t=>{t(To(e)),lo.notification("togglePanelOpen",!e);},fo=He({name:"optionsPage",initialState:{activeTab:ao.WORKSPACE,clickedSignupCTA:!1,collectionsForUnsavedSnippets:{},draftTeamShareSelections:{},filteredCollectionIds:[],lastEditedShortcutBody:"",lastEditedShortcutTrigger:"",newlySavedIds:[],saved:[],savedInConflictIds:[],searchQuery:"",selectedIds:[],showSignup:!1,tagToModify:void 0,unsaved:[],unsavedInConflictIds:[]},reducers:{addCollectionsForUnsavedSnippets:(e,t)=>{const{snippetIds:n,collectionIds:r}=t.payload,{...o}=e.collectionsForUnsavedSnippets;for(const e of n){const t=o[e]||[];o[e]=t.concat(r);}e.collectionsForUnsavedSnippets=o;},addFilteredCollectionIds:(e,t)=>{e.filteredCollectionIds=Array.from(new Set(e.filteredCollectionIds.concat(t.payload)));},addSelectedIds:(e,t)=>{e.selectedIds=Array.from(new Set(e.selectedIds.concat(t.payload)));},addUnsaved:(e,t)=>{const n={...Bn$1(),id:pe$1(),...t.payload.snippet};e.unsaved.unshift(n);const{unsavedInConflict:r,savedInConflict:o}=Uo(e.saved,e.unsaved);e.unsavedInConflictIds=r.map((e=>e.id)),e.savedInConflictIds=o.map((e=>e.id));const{teamShareSelections:i}=t.payload;if(i){const{...t}=e.draftTeamShareSelections;t[n.id]=i,e.draftTeamShareSelections=t;}},clearSelectedIds:e=>{e.selectedIds=[];},clearTagToModify:e=>{e.tagToModify=void 0;},clearTeamShareSelections:(e,t)=>{const n=t.payload,{...r}=e.draftTeamShareSelections;for(const e of n)delete r[e];e.draftTeamShareSelections=r;},removeAllFilters:e=>{e.filteredCollectionIds=[];},removeFilteredCollectionIds:(e,t)=>{e.filteredCollectionIds=e.filteredCollectionIds.filter((e=>!t.payload.includes(e)));},removeSelectedIds:(e,t)=>{e.selectedIds=e.selectedIds.filter((e=>!t.payload.includes(e)));},removeUnsaved:(e,t)=>{o.remove(e.unsaved,(e=>t.payload===e.id));const{unsavedInConflict:n,savedInConflict:o$1}=Uo(e.saved,e.unsaved);e.unsavedInConflictIds=n.map((e=>e.id)),e.savedInConflictIds=o$1.map((e=>e.id));},searchQueryChanged:(e,t)=>{e.searchQuery=t.payload;},setActiveTab:(e,t)=>{e.activeTab=t.payload;},setClickedSignupCTA:(e,t)=>{e.clickedSignupCTA=t.payload;},setSaved:(e,t)=>{e.newlySavedIds=t.payload.filter((t=>!e.saved.map((e=>e.id)).includes(t.id)&&!Un$1(t))).map((e=>e.id));const n=t.payload.sort(((e,t)=>e.trigger.localeCompare(t.trigger,void 0,{sensitivity:"base",usage:"sort"})));e.saved=n;const o$1=e.saved.map((e=>e.id));o.remove(e.unsaved,(e=>o$1.includes(e.id))),o.remove(e.selectedIds,(e=>!o$1.includes(e)));const{unsavedInConflict:i,savedInConflict:u}=Uo(e.saved,e.unsaved);e.unsavedInConflictIds=i.map((e=>e.id)),e.savedInConflictIds=u.map((e=>e.id)),e.saved.length||e.unsaved.length||e.unsaved.unshift({...Bn$1(),id:pe$1(),...t.payload});},setShowSignup:(e,t)=>{e.showSignup=t.payload;},setShowWorkspace:e=>{e.clickedSignupCTA=!1,e.showSignup=!1,lo.notification("togglePanelOpen",!0);},setSnippetCollections:(e,t)=>{const n=Array.from(new Set(t.payload.flatMap((e=>e.snippetIds)))),r=po(n,e.collectionsForUnsavedSnippets),o=po(n,e.draftTeamShareSelections);e.collectionsForUnsavedSnippets=r,e.draftTeamShareSelections=o;},setTagToModify:(e,t)=>{e.tagToModify=t.payload;},setTeamShareSelections:(e,t)=>{const{snippetIds:n,teamShareSelections:r}=t.payload,{...o}=e.draftTeamShareSelections;for(const e of n){const t=o[e];o[e]=r?(t||[]).concat(r):null;}e.draftTeamShareSelections=o;},shortcutBodyFocused:(e,t)=>{e.lastEditedShortcutBody=t.payload;},shortcutTriggerFocused:(e,t)=>{e.lastEditedShortcutTrigger=t.payload;},triggerHelpClosed:e=>{e.lastEditedShortcutTrigger="";},variableHelpClosed:e=>{e.lastEditedShortcutBody="";}}}),po=(e,t)=>Object.fromEntries(Object.entries(t).filter((([t])=>!e.includes(t)))),{addUnsaved:_o,removeUnsaved:ho,setSaved:vo,addSelectedIds:yo,removeSelectedIds:go,clearSelectedIds:mo,setSnippetCollections:bo,setTeamShareSelections:So,clearTeamShareSelections:wo,addCollectionsForUnsavedSnippets:Oo,addFilteredCollectionIds:Po,removeFilteredCollectionIds:Co,removeAllFilters:ko,setTagToModify:Eo,clearTagToModify:Io,setActiveTab:Do,setShowSignup:To,setShowWorkspace:xo,setClickedSignupCTA:Ao,shortcutBodyFocused:jo,shortcutTriggerFocused:Fo,triggerHelpClosed:Mo,variableHelpClosed:No,searchQueryChanged:$o}=fo.actions;function Uo(e,t){const n=[],r=[];for(const o of t)for(const t of e){if(""===o.trigger)break;o.body!==t.body&&(o.trigger===t.trigger||o.trigger.startsWith(t.trigger)||t.trigger.startsWith(o.trigger))&&(n.push(o),r.push(t));}return {unsavedInConflict:n,savedInConflict:r}}const Ro=function(e){var t,n=Re(),r=e||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,u=void 0===a?n():a,c=r.devTools,l=void 0===c||c,s=r.preloadedState,f=void 0===s?void 0:s,p=r.enhancers,d=void 0===p?void 0:p;if("function"==typeof i)t=i;else {if(!function(e){if("object"!=typeof e||null===e)return !1;var t=Object.getPrototypeOf(e);if(null===t)return !0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Oe(i);}var _=u;"function"==typeof _&&(_=_(n));var h=Ce.apply(void 0,_),v=Pe;l&&(v=$e(Ne({trace:!1},"object"==typeof l&&l)));var y=[h];return Array.isArray(d)?y=Te([h],d):"function"==typeof d&&(y=d(y)),we(t,f,v.apply(void 0,y))}({reducer:{global:Ve,optionsPage:fo.reducer,dialogs:dt}});function Wo(e,t){let n;function r(){const r=e(Ro.getState());n!==r&&(n=r,t(n));}return r(),Ro.subscribe(r)}Dr$1(r),window.loglevel=r;const Lo=new he$1("tab-state"),Ho=new he$1("tab-state"),Bo=Promise.all([Lo.request("getInitialGlobalState"),Ho.request("getInitialTabState")]),zo=new R$1,Go={...Wn$1(),...Hn$1()};async function Vo(e){if(e)switch(await Bo,e.action){case"globalStateChanged":!function(e){if(o.isEqual(e,Yo))return;r.debug("updateGlobalStateFromBackground: global patch:",e),Yo=e,Ro.dispatch(ze(e));}(e.globalStatePartial);break;case"tabStateChanged":{const{tabStatePartial:t}=e;ei(t);break}}}function Ko(){return o.cloneDeep(Go)}function qo(e){const t=e(Go);return o.cloneDeep(t)}function Xo(){return Ro.getState().global.userInfo.settings}function Qo(){return Ro.getState().global.userInfo.featureFlags}function Zo(e){const t=zo.subscribe(e);return Bo.then((()=>e())),t}function Jo(e){Ho.notification("updateTabState",e);}let Yo;function ei(e){r.debug("updateTabStateFromBackground - patch:",e),o.mergeWith(Go,e,Qt$1),zo.next();}globalThis.Magical={browser:a.browser,getEntireTabState:Ko,log:r,reduxStore:Ro,storeReadyPromise:Bo},async function(){a.browser.runtime.onMessage.addListener(Vo);const[e,n]=await Bo;if(!Nt$1(window.location)){const{sentryConfigs:e}=Ro.getState().global.config;jr$1(e,"content-scripts",{autoSessionTracking:!1,enableTracing:!1});}Ro.dispatch(ze(e)),ei(n),t((()=>{a.browser.runtime.onMessage.removeListener(Vo);}));}();const ti=new he$1("tracking");function ni(e){r.debug("Sending tracking event",e),ti.notification("track",e);}function ri(e,t,n){ti.notification("fillCompleted",e,t,n);}function oi(e,t){let n=0,r=0,o=0;switch(t.type){case"standard":n=1,r+=1;break;case"snippet":{n=1;const e=t;e.variablesFilled>0?r+=e.variablesFilled:o+=e.plainTextValue.length;break}case"snippet-unfilled":case"create-snippet":break;case"magic":case"magic-fill-all":n=t.valuesToAutofill.length+1,r+=t.valuesToAutofill.length+1;break;default:throw new Error("storeLatestFill: Unknown suggestion type")}ti.notification("storeLatestFill",e,n,r,o);}function ii(e,t,n){e&&ti.notification("userModifiedFill",e,t,n.trim());}

export { vo as $, ii as A, Bo as B, Cn as C, Ao as D, ro as E, bo as F, ao as G, jo as H, Io as I, Jo as J, Kn as K, Lt as L, mo as M, yo as N, Ot as O, ot as P, Qn as Q, Ro as R, St as S, tt as T, et as U, Je as V, Wo as W, Xo as X, Yn as Y, Zo as Z, _o as _, On as a, so as a0, co as a1, $o as a2, at as a3, Eo as a4, Qe as a5, go as a6, it as a7, Oo as a8, oo as a9, no as aa, So as ab, Fo as ac, ho as ad, wo as ae, Do as af, Po as ag, Co as ah, ko as ai, xo as aj, Uo as ak, ut as al, Ze as am, Ye as an, Ge as ao, nt as ap, rt as aq, Mo as ar, No as as, or as b, cn as c, Ko as d, er as e, an as f, ni as g, io as h, ir as i, jn as j, ct as k, ln as l, mt as m, nn as n, on as o, Qo as p, qn as q, rn as r, sn as s, to as t, un as u, qo as v, wt as w, oi as x, ri as y, zt as z };
